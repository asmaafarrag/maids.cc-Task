<h1 mat-dialog-title></h1>
<div mat-dialog-content>
  <p></p>
  <form #form="ngForm" autocomplete="off" (submit)="onSubmit(form)">
    <input type="hidden" name="ActionID" [value]="ClientActionsService.formData.ActionID">
    <input type="hidden" name="EmpID" [value]="ClientActionsService.formData.EmpID">
    <div class="form-group">
      <div class="input-group">
        <div class="input-group-prepend">
          <div class="input-group-text bg-white">
            <i class="fa fa-user-circle" [class.green-icon]="ActionComment.valid"
              [class.red-icon]="ActionComment.invalid && ActionComment.touched"></i>
              <label>وصف ما تم</label>
          </div>
        </div>
        <textarea class="form-control" rows="3" name="ActionComment" #ActionComment="ngModel" [(ngModel)]="ClientActionsService.formData.ActionComment"
        class="form-control" placeholder="Action Description" ></textarea>
      </div>
    </div>

      <div class="form-group">
        <label>نتيجة المتابعة</label>
        <i class="fa fa-flag" ></i>
        <select name="StageID" #StageID="ngModel" [(ngModel)]="ClientActionsService.formData.StageID" required
          class="form-control"  >
          <option *ngFor="let Stage of this.StagesList" [ngValue]="Stage.StageID" >{{Stage.StageNameAr}}</option>
        </select>
      </div>   
      <div class="form-group">
      <mat-form-field color="accent" appearance="fill">
        <mat-label>تاريخ المتابعة القادم</mat-label>
        <input matInput [matDatepicker]="picker1" name="NewActionDate" #NewActionDate="ngModel" [(ngModel)]="ClientActionsService.formData.NewActionDate">
        <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
        <mat-datepicker #picker1></mat-datepicker>
      </mat-form-field>
    </div> 

    <div class="form-group">
      <button class="btn btn-success btn-lg" type="submit" [disabled]=""   [disabled]="(form.invalid || !isEnabled)? true : null" ><i class="fa fa-database"></i>
        حفظ</button>
        <button class="btn btn-outline-dark ml-2 btn-lg" (click)="ClosePopupEvent()" ><i class="fa fa-table"></i> الرجوع لصفحة العميل</button>
    </div>
  </form>
</div>


