<section id="card-actions">
  <h3 class="card-title">تحويل بين المخازن</h3>
    <div class="row">
      <div class="col-xs-12">
        <div class="card">
          <div class="card-body collapse in">
            <div class="card-block">
              <div class="row">
                <div class="col-xl-12 col-lg-12 mb-2">
  
                  <form #form="ngForm" autocomplete="off" *ngIf="TransBetStoresServ.formData" (submit)="onSubmit(from)" novalidate>
                    <div class="row">
  
                      <div class="col-md-6">
                        <fieldset class="form-group position-relative has-icon-left">
                          <input name="TbsNo" #TbsNo="ngModel" [(ngModel)]="TransBetStoresServ.formData.TbsNo" class="form-control"
                           placeholder="رقم الاذن" required [disabled]="TransBetStoresServ.formData.TBSID !== -1 ? true : null" >
                          <div class="form-control-position">
                            <i class="fa fa-building"></i>
                          </div>
  
                        </fieldset>
                      </div>
                      <div class="col-md-6">
                        <fieldset class="form-group position-relative has-icon-left">
                          <input name="TBSDate" #TBSDate="ngModel" [(ngModel)]="TransBetStoresServ.formData.TBSDate"  class="form-control" placeholder="التاريخ" required
                            data-toggle="tooltip" data-placement="top" title data-original-title="التاريخ" type="date">
  
                        </fieldset>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <label>من مخزن</label>
                        <fieldset class="form-group position-relative has-icon-left">
                          <select  name="FStoreId" #FStoreId="ngModel" [(ngModel)]="TransBetStoresServ.formData.FStoreId" class="form-control"
                          required [class.is-invalid]="!isValid && TransBetStoresServ.formData.FStoreId == null" [disabled]="TransBetStoresServ.formData.TBSID !== -1 ? true : null" >
                           <option value='0'>-- Select --</option>

                           <option *ngFor="let store of storeslist" [ngValue]="store.StoreId">{{store.StoreName}}</option>
                          </select>
                          <div class="form-control-position">
                            <i class="fa fa-truck"></i>
                          </div>
  
                        </fieldset>
                      </div>
                      <div class="col-md-6">
                        <label>الى مخزن</label>
                        <fieldset class="form-group position-relative has-icon-left">
                          <select name="ToStoreId" #ToStoreId="ngModel" [(ngModel)]="TransBetStoresServ.formData.ToStoreId" class="form-control"
                          required [class.is-invalid]="!isValid && TransBetStoresServ.formData.ToStoreId == null" [disabled]="TransBetStoresServ.formData.TBSID !== -1 ? true : null"  >
                          <option value='0'>-- Select --</option>

                          <option *ngFor="let store of storeslist" [ngValue]="store.StoreId">{{store.StoreName}}</option>
                          </select>
                          <div class="form-control-position">
                            <i class="fa fa-truck"></i>
                          </div>
  
                        </fieldset>
                      </div>
  
                    </div>
                    <div class="row">
                      <div class="col-md-12">
                        <fieldset class="form-group position-relative has-icon-left">
                          <input name="TBSNotes" #TBSNotes="ngModel" [(ngModel)]="TransBetStoresServ.formData.TBSNotes" class="form-control" placeholder="ملاحظات" required
                            data-toggle="tooltip" data-placement="top" title data-original-title="ملاحظات">
                          <div class="form-control-position">
                            <i class="fa fa-pencil-square-o"></i>
                          </div>
                        </fieldset>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-xl-12 col-lg-12 mb-2">
                        <div class="table-responsive text-nowrap">
                          <table class="table table-sm table-bordered">
                            <thead>
                              <tr>
                                <th>#</th>
                                <!-- <th>كود الصنف</th> -->
                                <th>اسم الصنف</th>
                                <th>الكمية</th>
                                <th>الوحدة</th>
                                <th>
                                  <a class="btn btn-sm btn-success text-white" (click)="AddOrEditSalInvItems(null,TransBetStoresServ.formData.TBSID)"><i class="fa fa-plus"></i>إضافة صنف</a>
                                </th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr *ngFor="let Item of TransBetStoresServ.formData.transBetStoreDet;let i=index;">
                                <th scope="row">{{i+1}}</th>
                                <!-- <td>{{Item.ItemNO}}</td> -->
                                <td>{{Item.ItemName}}</td>
                                <td>{{Item.Qty}}</td>
                                <td>{{Item.UnitName}}</td>
                                <td>
                                  <a class="btn btn-sm btn-info text-white" (click)="AddOrEditSalInvItems(i,TransBetStoresServ.formData.TBSID)"><i class="fa fa-pencil"></i>تعديل</a>
                                  <a class="btn btn-sm btn-danger text-white ml-1" (click)="onDeleteSalInvItems(Item.SerNo, i)"><i class="fa fa-trash"></i>حذف</a>
                                </td>
                              </tr>
  
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                    
                      <div class="col-md-4">
                        <label for="Department">عدد الاصناف</label>
                        <span> : {{ItemsCount}}</span>                      
                      </div>
                      <div class="col-md-4">
                        
                      </div>
                      <div class="col-md-4">
                        <button class="btn btn-success " type="submit" [disabled]="(TransBetStoresServ.formData.TBSID !== -1 || !isEnabled)? true : null" ><i class="icon-check2"></i>
                            حفظ</button>
                            <button class="btn btn-outline-dark ml-2 " type='button' routerLink="/TransBetStoresView"  ><i class="fa fa-table"></i> الرجوع لاستعراض التحويلات</button>
                      </div>
  
                    
                    </div>
                
                  </form>
  
                </div>
              </div>
            </div>
          </div>
  
        </div>
      </div>
    </div>
  
  </section>